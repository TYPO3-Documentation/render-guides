<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TYPO3 Render Guides Performance Report</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Raleway:wght@600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Netresearch Brand Colors */
            --primary: #2F99A4;
            --primary-dark: #268a94;
            --accent: #FF4D00;
            --secondary: #585961;
            --bg: #f8f9fa;
            --card-bg: #ffffff;
            --text: #585961;
            --text-muted: #6c757d;
            --success: #28a745;
            --border: #CCCDCC;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background: var(--bg);
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Raleway', 'Open Sans', sans-serif;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
        }

        header .header-content {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        header .logo {
            width: 64px;
            height: 64px;
            flex-shrink: 0;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-right: 0.5rem;
        }

        .badge-primary { background: var(--accent); color: white; }
        .badge-success { background: var(--success); color: white; }
        .badge-secondary { background: var(--secondary); color: white; }

        .card {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .card h2 {
            color: var(--secondary);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary);
        }

        .card h3 {
            color: var(--text);
            font-size: 1.2rem;
            margin: 1.5rem 0 0.75rem;
        }

        .highlight-box {
            background: linear-gradient(135deg, var(--accent) 0%, #e64500 100%);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .highlight-box .big-number {
            font-size: 4rem;
            font-weight: 700;
            line-height: 1;
        }

        .highlight-box .label {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .metric-card {
            background: var(--bg);
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
        }

        .metric-card .value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }

        .metric-card .label {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .comparison-table th {
            background: var(--bg);
            font-weight: 600;
        }

        .comparison-table tr:hover {
            background: #f8f9fa;
        }

        .improvement {
            color: var(--success);
            font-weight: 600;
        }

        .patch-list {
            list-style: none;
        }

        .patch-list li {
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: flex-start;
        }

        .patch-list li:last-child {
            border-bottom: none;
        }

        .patch-icon {
            width: 24px;
            height: 24px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            flex-shrink: 0;
            font-size: 0.8rem;
            color: white;
        }

        .patch-content {
            flex: 1;
        }

        .patch-title {
            font-weight: 600;
            color: var(--secondary);
        }

        .patch-desc {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .doc-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }

        .doc-link {
            display: block;
            padding: 1.5rem;
            background: var(--bg);
            border-radius: 8px;
            text-decoration: none;
            color: var(--text);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .doc-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .doc-link h4 {
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .doc-link p {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        code {
            background: #f1f3f5;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'SF Mono', Consolas, monospace;
            font-size: 0.9em;
        }

        pre {
            background: #1a1a1a;
            color: #f8f8f2;
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.9rem;
        }

        footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        footer a {
            color: var(--primary);
        }

        .chart-container {
            background: var(--bg);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .bar-chart {
            display: flex;
            align-items: flex-end;
            height: 280px;
            gap: 2rem;
            padding: 2rem 0 1rem 0;
        }

        .bar-group {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .bar {
            width: 60px;
            background: var(--primary);
            border-radius: 4px 4px 0 0;
            position: relative;
            transition: height 0.5s ease;
        }

        .bar.main {
            background: var(--text-muted);
        }

        .bar .bar-value {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-weight: 600;
            font-size: 0.9rem;
        }

        .bar-label {
            margin-top: 0.5rem;
            font-size: 0.85rem;
            color: var(--text-muted);
            text-align: center;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }

        .legend-color.main { background: var(--text-muted); }
        .legend-color.feature { background: var(--primary); }

        .section-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1.5rem;
        }

        @media (max-width: 768px) {
            .container { padding: 1rem; }
            header h1 { font-size: 1.8rem; }
            .highlight-box .big-number { font-size: 2.5rem; }
            .section-grid { grid-template-columns: 1fr; }
            .bar-chart { flex-direction: column; height: auto; }
            .bar { height: 30px !important; width: 100%; }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <svg class="logo" viewBox="-75 -75 440 440" xmlns="http://www.w3.org/2000/svg">
                    <title>Netresearch DTT GmbH</title>
                    <g>
                        <path fill="#ffffff" d="M209.6,0V31.62h32.77a26.38,26.38,0,0,1,26.44,26.43V242a26.38,26.38,0,0,1-26.44,26.44H209.6V300h47.93a42.77,42.77,0,0,0,42.86-42.86V42.89A42.76,42.76,0,0,0,257.53,0ZM43.25,0A42.76,42.76,0,0,0,.39,42.89V257.18A42.76,42.76,0,0,0,43.25,300H91.18V268.46H58.4A26.38,26.38,0,0,1,32,242v-184A26.37,26.37,0,0,1,58.4,31.62H91.18V0Z" transform="translate(-0.39 -0.04)" />
                        <path fill="#ffffff" opacity="0.8" d="M221.44,120.41c0-34.48-13.94-57.82-48.93-57.82-26.62,0-48.54,7.74-64.17,26.56l-.7-22.06-28.31.06V232.94h31.59V124.69c7.14-18.38,32.14-34.8,53-34.5,27.38.4,25.2,26.24,26,45.81v96.94h31.58" transform="translate(-0.39 -0.04)" />
                    </g>
                </svg>
                <div>
                    <h1>TYPO3 Render Guides Performance Report</h1>
                    <p>Comprehensive performance analysis of the feature/php-8.5-only branch</p>
                </div>
            </div>
            <div style="margin-top: 1rem;">
                <span class="badge badge-primary">PHP 8.5</span>
                <span class="badge badge-success">Up to 95% Faster</span>
                <span class="badge badge-secondary">Branch: feature/php-8.5-only</span>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- Executive Summary -->
        <div class="section-grid">
            <div class="highlight-box">
                <div class="big-number">95%</div>
                <div class="label">Faster on Extra-Large Docs (Cold Build)</div>
            </div>
            <div class="highlight-box">
                <div class="big-number">76%</div>
                <div class="label">Faster on Large Docs (Cold Build)</div>
            </div>
        </div>

        <div class="metrics-grid">
            <div class="metric-card">
                <div class="value">1180s &rarr; 56s</div>
                <div class="label">TYPO3 Core Changelog (3667 files)</div>
            </div>
            <div class="metric-card">
                <div class="value">186s &rarr; 44s</div>
                <div class="label">TYPO3 Core API Docs (957 files)</div>
            </div>
            <div class="metric-card">
                <div class="value">19</div>
                <div class="label">Upstream Patches Applied</div>
            </div>
            <div class="metric-card">
                <div class="value">15+</div>
                <div class="label">New Performance Features</div>
            </div>
        </div>

        <!-- Performance Comparison: Main vs Feature -->
        <div class="card">
            <h2>Performance Comparison: main vs feature/php-8.5-only</h2>

            <h3>Cold Build Times (No Cache)</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Documentation</th>
                        <th>Files</th>
                        <th>main Branch</th>
                        <th>feature Branch</th>
                        <th>Time Improvement</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>TYPO3 Core Changelog</strong></td>
                        <td>3667</td>
                        <td>1179.6s (19.7min)</td>
                        <td>56.3s</td>
                        <td class="improvement">-95.2% (1123s faster)</td>
                    </tr>
                    <tr>
                        <td><strong>TYPO3 Core API</strong></td>
                        <td>957</td>
                        <td>185.5s</td>
                        <td>44.2s</td>
                        <td class="improvement">-76.2% (141s faster)</td>
                    </tr>
                    <tr>
                        <td><strong>Rendertest</strong></td>
                        <td>98</td>
                        <td>9.34s</td>
                        <td>6.83s</td>
                        <td class="improvement">-26.9% (2.5s faster)</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="margin-top: 2rem;">Resource Usage Comparison</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Documentation</th>
                        <th>Branch</th>
                        <th>CPU Usage</th>
                        <th>Peak Memory</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td rowspan="2"><strong>TYPO3 Core Changelog</strong> (3667 files)</td>
                        <td>main</td>
                        <td>101%</td>
                        <td>2986 MB</td>
                    </tr>
                    <tr>
                        <td style="color: var(--primary); font-weight: 600;">feature</td>
                        <td>440%</td>
                        <td>~1.3 GB <span style="color: var(--success);">(-56%)</span></td>
                    </tr>
                    <tr>
                        <td rowspan="2"><strong>TYPO3 Core API</strong> (957 files)</td>
                        <td>main</td>
                        <td>91%</td>
                        <td>358 MB</td>
                    </tr>
                    <tr>
                        <td style="color: var(--primary); font-weight: 600;">feature</td>
                        <td>391%</td>
                        <td>521 MB <span style="color: var(--text-muted);">(+46%)</span></td>
                    </tr>
                    <tr>
                        <td rowspan="2"><strong>Rendertest</strong> (98 files)</td>
                        <td>main</td>
                        <td>62%</td>
                        <td>98 MB</td>
                    </tr>
                    <tr>
                        <td style="color: var(--primary); font-weight: 600;">feature</td>
                        <td>214%</td>
                        <td>33 MB <span style="color: var(--success);">(-66%)</span></td>
                    </tr>
                </tbody>
            </table>
            <p style="color: var(--text-muted); margin-top: 0.75rem; font-size: 0.9rem;">
                <strong>CPU Usage &gt;100%:</strong> Indicates parallel processing via <code>pcntl_fork</code> across multiple cores.
                440% CPU = ~4.4 cores utilized on average.
            </p>
            <p style="color: var(--text-muted); margin-top: 0.5rem; font-size: 0.9rem;">
                <strong>Memory Efficiency:</strong> Feature branch uses <strong>~56% less total memory</strong> on Changelog
                (~1.3 GB vs 3 GB) despite parallel processing. Each forked worker processes its batch and exits,
                avoiding the memory accumulation seen in sequential processing.
            </p>

            <div class="chart-container">
                <h4 style="margin-bottom: 1rem; text-align: center;">Build Time Comparison (seconds)</h4>
                <div class="bar-chart">
                    <div class="bar-group">
                        <div style="display: flex; gap: 0.5rem; align-items: flex-end;">
                            <div class="bar main" style="height: 248px;">
                                <span class="bar-value">1180s</span>
                            </div>
                            <div class="bar" style="height: 12px;">
                                <span class="bar-value">56.3s</span>
                            </div>
                        </div>
                        <div class="bar-label">Core Changelog<br>(3667 files)</div>
                    </div>
                    <div class="bar-group">
                        <div style="display: flex; gap: 0.5rem; align-items: flex-end;">
                            <div class="bar main" style="height: 39px;">
                                <span class="bar-value">185.5s</span>
                            </div>
                            <div class="bar" style="height: 9px;">
                                <span class="bar-value">44.2s</span>
                            </div>
                        </div>
                        <div class="bar-label">TYPO3 Core API<br>(957 files)</div>
                    </div>
                    <div class="bar-group">
                        <div style="display: flex; gap: 0.5rem; align-items: flex-end;">
                            <div class="bar main" style="height: 2px;">
                                <span class="bar-value">9.34s</span>
                            </div>
                            <div class="bar" style="height: 1px;">
                                <span class="bar-value">6.83s</span>
                            </div>
                        </div>
                        <div class="bar-label">Rendertest<br>(98 files)</div>
                    </div>
                </div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color main"></div>
                        <span>main branch</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color feature"></div>
                        <span>feature branch</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cold vs Warm Comparison -->
        <div class="card">
            <h2>Cold vs Warm Build Performance (Feature Branch)</h2>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">
                Warm builds benefit from Twig template caching, inventory caching, and other optimizations.
            </p>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Documentation</th>
                        <th>Cold Build</th>
                        <th>Warm Build</th>
                        <th>Improvement</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>TYPO3 Core Changelog</strong> (3667 files)</td>
                        <td>56.3s</td>
                        <td>49.9s</td>
                        <td><span style="color: var(--success); font-weight: bold;">-11%</span></td>
                    </tr>
                    <tr>
                        <td><strong>TYPO3 Core API</strong> (957 files)</td>
                        <td>44.2s</td>
                        <td>35.5s</td>
                        <td><span style="color: var(--success); font-weight: bold;">-20%</span></td>
                    </tr>
                    <tr>
                        <td><strong>Rendertest</strong> (98 files)</td>
                        <td>6.83s</td>
                        <td>5.23s</td>
                        <td><span style="color: var(--success); font-weight: bold;">-23%</span></td>
                    </tr>
                </tbody>
            </table>
            <p style="color: var(--text-muted); margin-top: 1rem; font-size: 0.9rem;">
                <strong>Note:</strong> Warm builds benefit from Twig template caching persisted between runs.
                The 11-23% improvement comes primarily from avoiding Twig template recompilation.
                CPU usage and memory consumption are similar between cold and warm builds.
            </p>
        </div>

        <!-- Parallel Processing Comparison -->
        <div class="card">
            <h2>Parallel Processing Comparison (Rendertest - 98 files)</h2>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">
                Comparison of different parallelism configurations on the small documentation set.
            </p>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Configuration</th>
                        <th>Cold Build</th>
                        <th>Warm Build</th>
                        <th>Memory</th>
                        <th>CPU Usage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background: #f8f9fa;">
                        <td><strong>main branch</strong> (official container)</td>
                        <td>9.34s</td>
                        <td>8.47s</td>
                        <td>98 MB</td>
                        <td>62%</td>
                    </tr>
                    <tr>
                        <td><strong>feature</strong> (sequential, --parallel-workers=-1)</td>
                        <td>6.83s <span style="color: var(--success);">(-27%)</span></td>
                        <td>5.23s <span style="color: var(--success);">(-38%)</span></td>
                        <td>33 MB <span style="color: var(--success);">(-66%)</span></td>
                        <td>214%</td>
                    </tr>
                    <tr>
                        <td><strong>feature</strong> (auto, --parallel-workers=0)</td>
                        <td>6.62s <span style="color: var(--success);">(-29%)</span></td>
                        <td>5.05s <span style="color: var(--success);">(-40%)</span></td>
                        <td>34 MB <span style="color: var(--success);">(-65%)</span></td>
                        <td>197%</td>
                    </tr>
                    <tr>
                        <td><strong>feature</strong> (16 workers, --parallel-workers=16)</td>
                        <td>6.77s <span style="color: var(--success);">(-28%)</span></td>
                        <td>6.17s <span style="color: var(--success);">(-27%)</span></td>
                        <td>34 MB <span style="color: var(--success);">(-65%)</span></td>
                        <td>171%</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="margin-top: 1.5rem;">Key Observations</h3>
            <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                <li><strong>27-29% faster even without parallelism:</strong> The feature branch's optimizations (caching patches, PHP 8.5 improvements) provide significant speedup independent of parallel processing.</li>
                <li><strong>65-66% less memory:</strong> Feature branch uses only 33-34 MB vs main's 98 MB &mdash; more efficient memory management.</li>
                <li><strong>Warm caching works:</strong> Feature branch warm builds are 23-38% faster than cold; main branch shows modest improvement (8.47s warm vs 9.34s cold).</li>
                <li><strong>Parallelism overhead on small docs:</strong> For small documentation sets, forcing 16 workers adds slight overhead. Auto-detection or sequential mode perform best.</li>
            </ul>

            <p style="color: var(--text-muted); margin-top: 1rem; font-size: 0.9rem;">
                <strong>Parallelism shines on large docs:</strong> The parallel processing benefits are most visible on larger documentation sets
                (Core API: 76% faster, Core Changelog: 95% faster) where the fork overhead is amortized across many files.
            </p>
        </div>

        <!-- Parallel Processing Comparison: Large Docs -->
        <div class="card">
            <h2>Parallel Processing Comparison (TYPO3 Core API - 957 files)</h2>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">
                Comparison of different parallelism configurations on the large documentation set.
            </p>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Configuration</th>
                        <th>Cold Build</th>
                        <th>Warm Build</th>
                        <th>Memory</th>
                        <th>CPU Usage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background: #f8f9fa;">
                        <td><strong>main branch</strong> (official container)</td>
                        <td>185.5s</td>
                        <td>162.6s</td>
                        <td>358 MB</td>
                        <td>91%</td>
                    </tr>
                    <tr>
                        <td><strong>feature</strong> (sequential, --parallel-workers=-1)</td>
                        <td>44.2s <span style="color: var(--success);">(-76%)</span></td>
                        <td>35.5s <span style="color: var(--success);">(-78%)</span></td>
                        <td>521 MB</td>
                        <td>391%</td>
                    </tr>
                    <tr>
                        <td><strong>feature</strong> (auto, --parallel-workers=0)</td>
                        <td>47.7s <span style="color: var(--success);">(-74%)</span></td>
                        <td>46.2s <span style="color: var(--success);">(-72%)</span></td>
                        <td>521 MB</td>
                        <td>421%</td>
                    </tr>
                    <tr>
                        <td><strong>feature</strong> (16 workers, --parallel-workers=16)</td>
                        <td>53.5s <span style="color: var(--success);">(-71%)</span></td>
                        <td>44.9s <span style="color: var(--success);">(-72%)</span></td>
                        <td>521 MB</td>
                        <td>436%</td>
                    </tr>
                </tbody>
            </table>

            <p style="color: var(--text-muted); margin-top: 1rem; font-size: 0.9rem;">
                <strong>Key insight:</strong> Sequential mode performs best on Core API docs, suggesting the parallel fork overhead
                outweighs benefits for ~1000 files. All modes still achieve 71-78% improvement over main branch.
            </p>
        </div>

        <!-- Parallel Processing Comparison: Extra-Large Docs -->
        <div class="card">
            <h2>Parallel Processing Comparison (TYPO3 Core Changelog - 3667 files)</h2>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">
                Comparison of different parallelism configurations on the extra-large documentation set.
            </p>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Configuration</th>
                        <th>Cold Build</th>
                        <th>Warm Build</th>
                        <th>Memory</th>
                        <th>CPU Usage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background: #f8f9fa;">
                        <td><strong>main branch</strong> (official container)</td>
                        <td>1179.6s (19.7min)</td>
                        <td>917.6s (15.3min)</td>
                        <td>2986 MB</td>
                        <td>101%</td>
                    </tr>
                    <tr>
                        <td><strong>feature</strong> (sequential, --parallel-workers=-1)</td>
                        <td>56.3s <span style="color: var(--success);">(-95%)</span></td>
                        <td>49.9s <span style="color: var(--success);">(-95%)</span></td>
                        <td>900 MB <span style="color: var(--success);">(-70%)</span></td>
                        <td>440%</td>
                    </tr>
                    <tr>
                        <td><strong>feature</strong> (auto, --parallel-workers=0)</td>
                        <td>76.6s <span style="color: var(--success);">(-94%)</span></td>
                        <td>72.3s <span style="color: var(--success);">(-92%)</span></td>
                        <td>900 MB <span style="color: var(--success);">(-70%)</span></td>
                        <td>420%</td>
                    </tr>
                    <tr>
                        <td><strong>feature</strong> (16 workers, --parallel-workers=16)</td>
                        <td>71.1s <span style="color: var(--success);">(-94%)</span></td>
                        <td>52.5s <span style="color: var(--success);">(-94%)</span></td>
                        <td>900 MB <span style="color: var(--success);">(-70%)</span></td>
                        <td>437%</td>
                    </tr>
                </tbody>
            </table>

            <p style="color: var(--text-muted); margin-top: 1rem; font-size: 0.9rem;">
                <strong>Key insight:</strong> Sequential mode outperforms auto/16-workers on Changelog docs, achieving 21x speedup.
                The main branch takes <strong>20 minutes</strong> cold / <strong>15 minutes</strong> warm while feature branch
                completes in under <strong>1 minute</strong>. Total memory usage drops from ~3 GB to ~1.3 GB (parent process: 900 MB).
            </p>
        </div>

        <!-- Upstream Patches -->
        <div class="card">
            <h2>Upstream Performance Patches (19 patches)</h2>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">
                These patches target <code>phpdocumentor/guides</code> and <code>phpdocumentor/guides-restructured-text</code> packages.
            </p>

            <h3>phpdocumentor/guides (9 patches)</h3>
            <ul class="patch-list">
                <li>
                    <div class="patch-icon">1</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/slugger-anchor-normalizer.patch">slugger-anchor-normalizer.patch</a></div>
                        <div class="patch-desc">Optimize SluggerAnchorNormalizer with instance and result caching</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">2</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/twig-template-renderer-globals.patch">twig-template-renderer-globals.patch</a></div>
                        <div class="patch-desc">Cache Twig globals to avoid redundant addGlobal calls per template</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">3</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/pre-node-renderer-factory-cache.patch">pre-node-renderer-factory-cache.patch</a></div>
                        <div class="patch-desc">Cache PreNodeRendererFactory lookups by node class</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">4</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/project-node-cache.patch">project-node-cache.patch</a></div>
                        <div class="patch-desc">Cache root document entry and use hash lookup for getDocumentEntry</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">5</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/twig-environment-cache.patch">twig-environment-cache.patch</a></div>
                        <div class="patch-desc">Enable Twig template caching for faster compilation</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">6</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/render-context-document-cache.patch">render-context-document-cache.patch</a></div>
                        <div class="patch-desc">Cache document lookup by file for O(1) getDocumentNodeForEntry</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">7</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/document-name-resolver-cache.patch">document-name-resolver-cache.patch</a></div>
                        <div class="patch-desc">Cache URL resolution results in DocumentNameResolver</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">8</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/url-generator-cache.patch">url-generator-cache.patch</a></div>
                        <div class="patch-desc">Cache URL generator relative path calculations</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">9</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/external-reference-resolver-cache.patch">external-reference-resolver-cache.patch</a></div>
                        <div class="patch-desc">Cache ExternalReferenceResolver SUPPORTED_SCHEMAS pattern</div>
                    </div>
                </li>
            </ul>

            <h3>phpdocumentor/guides-restructured-text (10 patches)</h3>
            <ul class="patch-list">
                <li>
                    <div class="patch-icon">1</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/inline-parser-lexer-reuse.patch">inline-parser-lexer-reuse.patch</a></div>
                        <div class="patch-desc">Reuse InlineLexer instance to avoid repeated instantiation</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">2</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/line-checker-cache.patch">line-checker-cache.patch</a></div>
                        <div class="patch-desc">Cache LineChecker regex results to avoid repeated pattern matching</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">3</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/buffer-unindent-cache.patch">buffer-unindent-cache.patch</a></div>
                        <div class="patch-desc">Cache Buffer unindent to avoid repeated detection loops</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">4</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/inline-lexer-regex-cache.patch">inline-lexer-regex-cache.patch</a></div>
                        <div class="patch-desc">Cache InlineLexer regex patterns including expensive SUPPORTED_SCHEMAS</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">5</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/field-list-regex-cache.patch">field-list-regex-cache.patch</a></div>
                        <div class="patch-desc">Cache FieldListRule field pattern</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">6</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/directive-rule-regex-cache.patch">directive-rule-regex-cache.patch</a></div>
                        <div class="patch-desc">Cache DirectiveRule parsing patterns</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">7</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/enumerated-list-regex-cache.patch">enumerated-list-regex-cache.patch</a></div>
                        <div class="patch-desc">Cache EnumeratedListRule marker type patterns</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">8</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/link-rule-regex-cache.patch">link-rule-regex-cache.patch</a></div>
                        <div class="patch-desc">Cache LinkRule parsing patterns</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">9</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/grid-table-rule-regex-cache.patch">grid-table-rule-regex-cache.patch</a></div>
                        <div class="patch-desc">Cache GridTableRule definition patterns</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">10</div>
                    <div class="patch-content">
                        <div class="patch-title"><a href="https://github.com/CybotTM/render-guides/blob/feature/php-8.5-only/patches/simple-table-rule-regex-cache.patch">simple-table-rule-regex-cache.patch</a></div>
                        <div class="patch-desc">Cache SimpleTableRule column and colspan patterns</div>
                    </div>
                </li>
            </ul>
        </div>

        <!-- Project Changes -->
        <div class="card">
            <h2>Project Performance Changes</h2>

            <h3>PHP 8.5 Upgrade &amp; Modernization</h3>
            <ul class="patch-list">
                <li>
                    <div class="patch-icon">&#10003;</div>
                    <div class="patch-content">
                        <div class="patch-title">Require PHP 8.5 only, drop support for PHP 8.1-8.4</div>
                        <div class="patch-desc">Enables access to latest PHP performance improvements and JIT optimizations</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">&#10003;</div>
                    <div class="patch-content">
                        <div class="patch-title">Apply Rector PHP 8.5 code modernizations</div>
                        <div class="patch-desc">First-class callable syntax, constructor property promotion, readonly properties</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">&#10003;</div>
                    <div class="patch-content">
                        <div class="patch-title">#[\Override] attributes</div>
                        <div class="patch-desc">Applied to all overriding methods for better static analysis</div>
                    </div>
                </li>
            </ul>

            <h3>Parallel Processing (pcntl_fork)</h3>
            <ul class="patch-list">
                <li>
                    <div class="patch-icon">&#9733;</div>
                    <div class="patch-content">
                        <div class="patch-title">ForkingRenderer for parallel HTML rendering</div>
                        <div class="patch-desc">Renders documents in parallel using forked processes, major speed improvement for large docs</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">&#9733;</div>
                    <div class="patch-content">
                        <div class="patch-title">ParallelParseDirectoryHandler</div>
                        <div class="patch-desc">Parses RST files in parallel for faster initial document loading</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">&#9733;</div>
                    <div class="patch-content">
                        <div class="patch-title">ParallelCompileDocumentsHandler</div>
                        <div class="patch-desc">Parallel compilation infrastructure (currently using sequential for toctree compatibility)</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">&#9733;</div>
                    <div class="patch-content">
                        <div class="patch-title">DocumentNavigationProvider</div>
                        <div class="patch-desc">Pre-computed prev/next navigation for parallel rendering</div>
                    </div>
                </li>
            </ul>

            <h3>Caching Infrastructure</h3>
            <ul class="patch-list">
                <li>
                    <div class="patch-icon">&#10003;</div>
                    <div class="patch-content">
                        <div class="patch-title">Inventory caching (53% render time improvement)</div>
                        <div class="patch-desc">Cache interlink inventory lookups to avoid repeated HTTP requests</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">&#10003;</div>
                    <div class="patch-content">
                        <div class="patch-title">Twig template caching</div>
                        <div class="patch-desc">Enable filesystem caching for compiled Twig templates</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">&#10003;</div>
                    <div class="patch-content">
                        <div class="patch-title">AST caching for parsed documents</div>
                        <div class="patch-desc">Cache parsed document AST to skip re-parsing on warm builds</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">&#10003;</div>
                    <div class="patch-content">
                        <div class="patch-title">OPcache CLI enabled in Docker</div>
                        <div class="patch-desc">Enable PHP OPcache for CLI mode in Docker builds</div>
                    </div>
                </li>
            </ul>

            <h3>Incremental Rendering Infrastructure</h3>
            <ul class="patch-list">
                <li>
                    <div class="patch-icon">&#10003;</div>
                    <div class="patch-content">
                        <div class="patch-title">IncrementalBuildCache</div>
                        <div class="patch-desc">Track document content hashes for change detection</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">&#10003;</div>
                    <div class="patch-content">
                        <div class="patch-title">ChangeDetector &amp; DirtyPropagator</div>
                        <div class="patch-desc">Detect changed files and propagate dirty state through dependency graph</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">&#10003;</div>
                    <div class="patch-content">
                        <div class="patch-title">DependencyGraphPass &amp; ExportsCollectorPass</div>
                        <div class="patch-desc">Build dependency graph during compilation for incremental builds</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">&#10003;</div>
                    <div class="patch-content">
                        <div class="patch-title">IncrementalTypeRenderer</div>
                        <div class="patch-desc">Skip rendering unchanged documents using cache data</div>
                    </div>
                </li>
            </ul>
        </div>

        <!-- Other Changes -->
        <div class="card">
            <h2>Other Changes</h2>
            <ul class="patch-list">
                <li>
                    <div class="patch-icon">&#8226;</div>
                    <div class="patch-content">
                        <div class="patch-title">Performance benchmark infrastructure</div>
                        <div class="patch-desc">Docker-based benchmark scripts for reproducible performance testing</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">&#8226;</div>
                    <div class="patch-content">
                        <div class="patch-title">ProfilingEventListener</div>
                        <div class="patch-desc">Pipeline timing measurement (enable with GUIDES_PROFILING=1)</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">&#8226;</div>
                    <div class="patch-content">
                        <div class="patch-title">composer-normalize pre-commit</div>
                        <div class="patch-desc">Added composer-normalize to pre-commit workflow</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">&#8226;</div>
                    <div class="patch-content">
                        <div class="patch-title">PHPUnit 12 compatibility</div>
                        <div class="patch-desc">Updated tests for PHPUnit 12 compatibility</div>
                    </div>
                </li>
                <li>
                    <div class="patch-icon">&#8226;</div>
                    <div class="patch-content">
                        <div class="patch-title">Test stability fixes</div>
                        <div class="patch-desc">Clear AST cache before test runs to fix flaky tests</div>
                    </div>
                </li>
            </ul>
        </div>

        <!-- Rendered Documentation Links -->
        <div class="card">
            <h2>Compare Rendered Documentation</h2>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">
                Review the rendered output from both branches to verify correctness:
            </p>

            <div class="doc-links">
                <a href="rendertest-feature/Index.html" class="doc-link">
                    <h4>Rendertest (Feature Branch)</h4>
                    <p>98 files rendered with feature/php-8.5-only</p>
                </a>
                <a href="rendertest-main/Index.html" class="doc-link">
                    <h4>Rendertest (Main Branch)</h4>
                    <p>98 files rendered with main branch</p>
                </a>
            </div>
            <p style="color: var(--text-muted); margin-top: 1rem; font-size: 0.9rem;">
                <strong>Note:</strong> TYPO3 Core API rendered documentation (957 files) is not included
                due to size constraints. The performance benchmarks above demonstrate the improvement on
                this larger documentation set.
            </p>
        </div>

        <!-- Incremental/Partial Builds -->
        <div class="card">
            <h2>Incremental Build Performance (Feature Branch)</h2>

            <div style="background: #d4edda; border-left: 4px solid var(--success); padding: 1rem; margin-bottom: 1.5rem; border-radius: 4px;">
                <strong style="color: #155724;"> Incremental Rendering Working!</strong>
                <span style="color: #155724;">Warm and partial builds complete in under 500ms regardless of project size -
                a <strong>99%+ reduction</strong> from cold builds. Only changed files and their dependents are re-rendered.</span>
            </div>

            <p style="color: var(--text-muted); margin-bottom: 1rem;">
                Incremental builds skip unchanged documents, only re-rendering files that have been modified or depend on changed exports.
                "Warm" = no changes (full cache hit), "Single File" = one document changed, "Cascade" = heavily-referenced document changed (triggers dependent re-renders).
            </p>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Documentation</th>
                        <th>Cold Build</th>
                        <th>Warm<br><small>(0 files)</small></th>
                        <th>Single File<br><small>(1 file)</small></th>
                        <th>Cascade<br><small>(N dependents)</small></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>TYPO3 Core Changelog</strong><br><small>(3668 files)</small></td>
                        <td>172.7s<br><small>~1.3 GB</small></td>
                        <td>0.47s <span style="color: var(--success); font-weight: 700;">(-99.7%)</span></td>
                        <td>0.44s <span style="color: var(--success); font-weight: 700;">(-99.7%)</span><br><small>1 rendered</small></td>
                        <td style="color: var(--text-muted);"><small>N/A</small></td>
                    </tr>
                    <tr>
                        <td><strong>TYPO3 Core API</strong><br><small>(957 files)</small></td>
                        <td>35.3s<br><small>~580 MB</small></td>
                        <td>0.39s <span style="color: var(--success); font-weight: 700;">(-99%)</span></td>
                        <td>0.40s <span style="color: var(--success); font-weight: 700;">(-99%)</span><br><small>1 rendered</small></td>
                        <td>0.37s <span style="color: var(--success); font-weight: 700;">(-99%)</span><br><small>158 rendered</small></td>
                    </tr>
                    <tr>
                        <td><strong>Rendertest</strong><br><small>(94 files)</small></td>
                        <td>6.9s<br><small>~200 MB</small></td>
                        <td>0.26s <span style="color: var(--success); font-weight: 700;">(-96%)</span></td>
                        <td>0.25s <span style="color: var(--success); font-weight: 700;">(-96%)</span><br><small>1 rendered</small></td>
                        <td style="color: var(--text-muted);"><small>N/A</small></td>
                    </tr>
                </tbody>
            </table>

            <h3>Key Insight: Constant Time Incremental Builds</h3>
            <p style="color: var(--text-muted); margin: 1rem 0;">
                Notice that incremental build times are nearly <strong>identical across all project sizes</strong>:
                ~0.4-0.5s for 3668 files vs ~0.25s for 94 files. This demonstrates that incremental builds scale
                with the <em>number of changed files</em>, not the <em>total project size</em>.
            </p>

            <h3>Documents Re-rendered Per Scenario</h3>
            <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                <li><strong>Warm (0 files):</strong> Nothing re-rendered - full cache hit, all documents skipped</li>
                <li><strong>Single File (1 file):</strong> Only the modified document re-rendered (e.g., Index.rst has no dependents)</li>
                <li><strong>Cascade (N files):</strong> Modified document + all dependents. E.g., EventDispatcher/Index.rst (156 refs)  158 files re-rendered</li>
            </ul>

            <h3>Dependency Cascade</h3>
            <p style="color: var(--text-muted); margin: 1rem 0;">
                When a document's <strong>exports change</strong> (anchors, titles, citations), the system automatically
                re-renders dependent documents. This ensures cross-reference integrity across the documentation.
            </p>

            <div style="background: #e8f4f8; border-left: 4px solid var(--primary); padding: 1rem; margin: 1rem 0; border-radius: 4px;">
                <strong>Cascade Test:</strong> Changing the title of <code>EventDispatcher/Index.rst</code> (referenced by 156 documents)
                triggers re-rendering of <strong>158 files</strong> (1 modified + 156 dependents + Index) in <strong>0.37s</strong>.
                This is still 99% faster than a cold build (35s) while ensuring all cross-references are updated correctly.
            </div>

            <h3>Benchmark Scenarios</h3>
            <ul style="margin: 1rem 0; padding-left: 1.5rem;">
                <li><strong>Cold:</strong> All caches cleared, fresh render from scratch</li>
                <li><strong>Warm:</strong> No file changes, full cache hit</li>
                <li><strong>Single File:</strong> Modify one document with no/few dependents (e.g., Index.rst)</li>
                <li><strong>Cascade:</strong> Modify a heavily-referenced document (e.g., EventDispatcher/Index.rst with 156 dependents)</li>
            </ul>
        </div>

        <!-- Benchmark Details -->
        <div class="card">
            <h2>Benchmark Methodology</h2>
            <table class="comparison-table">
                <tr>
                    <th>Parameter</th>
                    <th>Value</th>
                </tr>
                <tr>
                    <td>Test Environment</td>
                    <td>Docker container (Ubuntu-based)</td>
                </tr>
                <tr>
                    <td>PHP Version</td>
                    <td>8.5.1 (feature branch) / 8.1.33 (main branch official container)</td>
                </tr>
                <tr>
                    <td>Runs per Scenario</td>
                    <td>3 (avg/min/max recorded)</td>
                </tr>
                <tr>
                    <td>Cold Build</td>
                    <td>All caches cleared before each run</td>
                </tr>
                <tr>
                    <td>Warm Build</td>
                    <td>Initial run to populate caches, then 3 measured runs</td>
                </tr>
                <tr>
                    <td>Small Docs</td>
                    <td>Documentation-rendertest (98 files)</td>
                </tr>
                <tr>
                    <td>Large Docs</td>
                    <td>TYPO3CMS-Reference-CoreApi (957 files)</td>
                </tr>
                <tr>
                    <td>Extra-Large Docs</td>
                    <td>TYPO3 Core Changelog (3666 files)</td>
                </tr>
                <tr>
                    <td>CPU Cores</td>
                    <td>16 (auto-detected, no container limits)</td>
                </tr>
            </table>

            <p style="color: var(--text-muted); margin-top: 1rem; font-size: 0.9rem;">
                <strong>Parallel Processing:</strong> The feature branch uses <code>pcntl_fork</code>
                for parallel rendering, automatically detecting available CPU cores. Your results
                may vary depending on available cores. Use <code>--parallel-workers=N</code> to
                manually set the worker count.
            </p>

            <h3 style="margin-top: 2rem;">Reproduce These Benchmarks</h3>
            <p style="color: var(--text-muted); margin-bottom: 1rem;">
                Follow these steps to reproduce the benchmark results on your own machine:
            </p>

            <div style="background: #f1f3f5; padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                <h4 style="margin-bottom: 0.5rem;">Prerequisites</h4>
                <ul style="margin-left: 1.5rem;">
                    <li>Docker installed and running</li>
                    <li>Git</li>
                    <li>At least 16GB RAM for large docs</li>
                </ul>
            </div>

            <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; font-family: monospace; font-size: 0.9rem; overflow-x: auto;">
<pre style="margin: 0; white-space: pre-wrap;">
# Clone the repository
git clone https://github.com/CybotTM/render-guides.git
cd render-guides
git checkout feature/php-8.5-only

# Download test documentation
./benchmark/download-test-docs.sh TYPO3CMS-Reference-CoreApi  # Large (957 files)
./benchmark/download-test-docs.sh TYPO3-Core-Changelog        # Extra-large (3666 files)

# === Feature Branch Benchmarks ===
# Run cold benchmark on small docs (rendertest)
./benchmark/benchmark-docker.sh cold 3 small

# Run cold benchmark on large docs (TYPO3 Core API)
./benchmark/benchmark-docker.sh cold 3 large

# Run cold benchmark on extra-large docs (TYPO3 Core Changelog)
./benchmark/benchmark-docker.sh cold 3 changelog

# Run warm benchmark (Twig caches populated)
./benchmark/benchmark-docker.sh warm 3 small
./benchmark/benchmark-docker.sh warm 3 large
./benchmark/benchmark-docker.sh warm 3 changelog

# Run partial/incremental benchmark (modifies Index.rst)
./benchmark/benchmark-docker.sh partial 3 small
./benchmark/benchmark-docker.sh partial 3 large
./benchmark/benchmark-docker.sh partial 3 changelog

# === Main Branch Benchmarks (using official container) ===
# For main branch comparison, use the official TYPO3 render-guides container:
docker pull ghcr.io/typo3-documentation/render-guides:latest

# Small docs (rendertest)
docker run --rm -v $(pwd)/Documentation-rendertest:/project/Documentation \
  -v /tmp/main-output:/project/Documentation-GENERATED-temp \
  ghcr.io/typo3-documentation/render-guides:latest --no-progress

# Large docs (TYPO3 Core API)
docker run --rm -v $(pwd)/benchmark/test-docs/TYPO3CMS-Reference-CoreApi/Documentation:/project/Documentation \
  -v /tmp/main-output-large:/project/Documentation-GENERATED-temp \
  ghcr.io/typo3-documentation/render-guides:latest --no-progress

# Extra-large docs (TYPO3 Core Changelog) - warning: ~17 minutes on main branch
docker run --rm -v $(pwd)/benchmark/test-docs/TYPO3-Core-Changelog/typo3/sysext/core/Documentation:/project/Documentation \
  -v /tmp/main-output-changelog:/project/Documentation-GENERATED-temp \
  ghcr.io/typo3-documentation/render-guides:latest --no-progress
</pre>
            </div>

            <p style="color: var(--text-muted); margin-top: 1rem; font-size: 0.9rem;">
                <strong>Result files:</strong> Benchmark results are saved as JSON files in <code>benchmark/results/</code>
                with naming convention: <code>{branch}_{scenario}_{docs}_{timestamp}.json</code>
            </p>
        </div>

        <!-- References -->
        <div class="card">
            <h2>References</h2>
            <ul style="margin: 0; padding-left: 1.5rem;">
                <li><a href="https://github.com/TYPO3-Documentation/render-guides/pull/1143">PR #1143</a> &mdash; Original performance optimization proposal and discussion</li>
                <li><a href="https://github.com/CybotTM/render-guides/tree/feature/php-8.5-only">Feature Branch</a> &mdash; Source code for this implementation</li>
            </ul>
        </div>
    </main>

    <footer>
        <p>
            Generated on 2026-01-05 |
            <a href="https://github.com/TYPO3-Documentation/render-guides">TYPO3 Render Guides</a> |
            Branch: <code>feature/php-8.5-only</code>
        </p>
        <p style="margin-top: 0.5rem;">
            Performance analysis by <a href="https://www.netresearch.de/">Netresearch DTT GmbH</a>
        </p>
    </footer>
</body>
</html>
