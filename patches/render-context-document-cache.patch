diff --git a/src/RenderContext.php b/src/RenderContext.php
index bc8e52b..45b7a36 100644
--- a/src/RenderContext.php
+++ b/src/RenderContext.php
@@ -30,6 +30,9 @@ class RenderContext
     /** @var DocumentNode[] */
     private array $allDocuments;
 
+    /** @var array<string, DocumentNode> */
+    private array $documentsByFile = [];
+
     private string $outputFilePath = '';
 
     private Renderer\DocumentListIterator $iterator;
@@ -65,6 +68,10 @@ class RenderContext
 
         $self->document = $documentNode;
         $self->allDocuments = $allDocumentNodes;
+        // Build hash map for O(1) document lookup
+        foreach ($allDocumentNodes as $doc) {
+            $self->documentsByFile[$doc->getDocumentEntry()->getFile()] = $doc;
+        }
         $self->outputFilePath =  $documentNode->getFilePath() . '.' . $ouputFormat;
 
         return $self;
@@ -121,6 +128,10 @@ class RenderContext
         );
 
         $self->allDocuments = $allDocumentNodes;
+        // Build hash map for O(1) document lookup
+        foreach ($allDocumentNodes as $doc) {
+            $self->documentsByFile[$doc->getDocumentEntry()->getFile()] = $doc;
+        }
 
         return $self;
     }
@@ -222,10 +233,10 @@ class RenderContext
 
     public function getDocumentNodeForEntry(DocumentEntryNode $entryNode): DocumentNode
     {
-        foreach ($this->allDocuments as $child) {
-            if ($child->getDocumentEntry() === $entryNode) {
-                return $child;
-            }
+        // O(1) lookup using hash map instead of O(n) iteration
+        $file = $entryNode->getFile();
+        if (isset($this->documentsByFile[$file])) {
+            return $this->documentsByFile[$file];
         }
 
         throw new Exception('No document was found for document entry ' . $entryNode->getFile());
